function doQuiz(){try{quizdata=jQuery.parseJSON($("#data").html())}catch(t){throw $("#quiz_wrap").append("<h1>Error Loading Quiz</h1>"),new Error(t)}$("#quiz_wrap").append("<h1>Quiz "+quizdata.object_index+"</h1>"),$("#quiz_wrap").append("<h2>"+quizdata.title+"</h2>"),$("#quiz_wrap").append("<h3>"+quizdata.count+" questions, No time limit</h3>"),$("#quiz_wrap").append("<div align='center'>"+quizdata.description+"</div>"),$("#quiz_wrap").append('<button onclick="startQuiz()" id="start">Start Quiz</button>')}function startQuiz(){display_ques(1)}function display_ques(t){if(t>quizdata.count)finishQuiz();else{if($("#quiz_wrap").html(""),$("#quiz_wrap").append("<h2>Question #"+t+"</h2>"),$("#quiz_wrap").append("<h4>Score: "+score+"</h4>"),qdata=quizdata.results[t-1],"true-false"==qdata.assessment_type&&($("#quiz_wrap").append(qdata.prompt.question),$("#quiz_wrap").append('<button class="tbut" onclick="check_ques({0}, 1)" id="start">True</button>&nbsp;&nbsp;'.format(t)),$("#quiz_wrap").append('<button class="tbut" onclick="check_ques({0}, 0)" id="start">False</button>'.format(t))),"multiple-choice"==qdata.assessment_type){$("#quiz_wrap").append(qdata.prompt.question);var a=["A","B","C","D","E"],e=["a","b","c","d","e"];for(i=0;i<qdata.prompt.answers.length;i++)$("#quiz_wrap").append("<h4>{0}: {1}</h4>".format(a[i],qdata.prompt.answers[i]));for(i=0;i<qdata.prompt.answers.length;i++)$("#quiz_wrap").append('<button class="tbut" id="mbut" onclick="check_ques({0}, {1})" id="start">'.format(t,"'"+e[i]+"'")+a[i]+"</button>&nbsp;")}if("fill-in-the-blanks"==qdata.assessment_type){var r=[];for(i=0;i<qdata.correct_response.length;i++)r[i]='<input type="text" id="{0}"></input>'.format("ans"+i);$("#quiz_wrap").append(qdata.prompt.question),$("#quiz_wrap p").children("u-blank").each(function(t){$(this).append(r[t])}),$("#quiz_wrap").append('<button class="tbut" onclick="check_ques({0}, false)" id="start">Check Answer(s)</button>'.format(t))}"coding-challenge"==qdata.assessment_type&&display_ques(t+1)}}function check_ques(t,a){if(qdata=quizdata.results[t-1],"true-false"==qdata.assessment_type&&(qdata.correct_response[0]==String(Boolean(a))?($(".tbut").attr("disabled","disabled"),$("#quiz_wrap").append("<h3>Answer: "+qdata.correct_response[0]),$("#quiz_wrap").append('<button onclick="display_ques('+Number(t+1)+')" id="start">Continue</button>'),score++):($(".tbut").attr("disabled","disabled"),$("#quiz_wrap").append("<h3>Answer: "+qdata.correct_response[0]),$("#quiz_wrap").append('<button class="wbut" onclick="display_ques('+Number(t+1)+')" id="start">Continue</button>'))),"coding-challenge"==qdata.assessment_type,"multiple-choice"==qdata.assessment_type&&(qdata.correct_response[0]==a?($(".tbut").attr("disabled","disabled"),score++,$("#quiz_wrap").append("<h3>Answer: "+qdata.correct_response[0]),$("#quiz_wrap").append('<button onclick="display_ques('+Number(t+1)+')" id="start">Continue</button>')):($(".tbut").attr("disabled","disabled"),$("#quiz_wrap").append("<h3>Answer: "+qdata.correct_response[0]),$("#quiz_wrap").append('<button class="wbut" onclick="display_ques('+Number(t+1)+')" id="start">Continue</button>'))),"fill-in-the-blanks"==qdata.assessment_type){$(".tbut").attr("disabled","disabled");var e=0;for(i=0;i<qdata.correct_response.length;i++)$("#ans"+i).attr("disabled","disabled"),answer=$("#ans"+i).val(),answer==qdata.correct_response[i]?($("#quiz_wrap").append("<h3>Correct Answer for #{0}: ".format(i+1)+qdata.correct_response[i]+"</h3>"),e++):$("#quiz_wrap").append("<h3>Correct Answer for #{0}: ".format(i+1)+qdata.correct_response[i]+"</h3>");$("#quiz_wrap").append("<h3>Total Correct: {0}/{1}</h3>".format(e,qdata.correct_response.length)),e==qdata.correct_response.length?(score++,$("#quiz_wrap").append('<button onclick="display_ques('+Number(t+1)+')" id="start">Continue</button>')):$("#quiz_wrap").append('<button class="wbut" onclick="display_ques('+Number(t+1)+')" id="start">Continue</button>')}}function finishQuiz(){$("#quiz_wrap").html(""),$("#quiz_wrap").append("<h1>Score: {0}/{1}</h1>".format(score,quizdata.count)),$("#quiz_wrap").append("<h1>Score: {0}%</h1>".format(score/quizdata.count*100)),$("#quiz_wrap").append('<h3><a href="javascript:history.go(0)">Try Again</a></h3>')}var quizdata,score=0;String.prototype.format||(String.prototype.format=function(){var t=this.toString();if(!arguments.length)return t;var a=typeof arguments[0],a="string"==a||"number"==a?arguments:arguments[0];for(arg in a)t=t.replace(RegExp("\\{"+arg+"\\}","gi"),a[arg]);return t}),$(document).ready(function(){doQuiz()});
